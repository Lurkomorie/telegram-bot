llm:
  provider: openrouter
  model: thedrummer/rocinante-12b # Main conversational intelligence - uncensored, cheap, good Russian
  followup_model: thedrummer/rocinante-12b # Auto-followup messages (same model)
  state_model: mistralai/mistral-nemo # Fast model for state resolution
  image_model: moonshotai/kimi-k2:nitro # Image tag generation
  memory_model: x-ai/grok-4-fast # Memory extraction - uncensored, cheap, decent quality with good prompt
  decision_model: mistralai/ministral-3b # Fast, uncensored model for image decisions
  summary_model: mistralai/ministral-3b # Fast, cheap model for context summarization
  temperature: 0.7
  max_tokens: 512
  timeout_sec: 40

image:
  provider: runpod
  width: 832
  height: 1216
  steps: 25
  cfg_scale: 7
  sampler_name: euler
  poll_interval_sec: 2.0
  poll_timeout_sec: 60
  quality_prompt: "(head visible, masterpiece, best quality:1.2, amazing quality, very aesthetic, high resolution, ultra-detailed, absurdres, newest, 8k UHD), smooth shading, clean lines, physically-plausible lighting, sub-surface skin details, natural anatomy, proportional body, realistic hands and fingers, photorealistic skin texture"
  negative_prompt: "(worst quality, low quality, normal quality:1.2), lowres, bad anatomy, bad proportions, malformed, deformed, mutated, ugly, disfigured, inaccurate limb, missing limb, extra limb, fused limb, (extra arms, extra legs, extra hands, extra fingers, extra feet, extra toes:1.3), (missing fingers, missing hands, missing arms, missing legs:1.2), (long fingers, short fingers, thin fingers, fat fingers, fused fingers, webbed fingers, broken fingers, wrong finger count:1.3), malformed hands, bad hands, bad feet, bad legs, bad arms, bad body, mutated hands, deformed hands, disfigured hands, (out of frame, cropped, cut off, missing body, missing head, floating limbs, disconnected limbs, misaligned body, unnatural pose, distorted body, unnatural body bend, twisted body, broken body, body out of shot:1.2), (duplicate, cloned person, mirrored body, twin, clone face, extra head, missing head, cropped head:1.3), bad face, poorly drawn face, distorted face, asymmetrical face, cross-eyed, wall-eyed, lazy eye, bad eyes, misaligned pupils, malformed iris, bad mouth, bad lips, distorted lips, gummy smile, fused lips, extra teeth, missing teeth, bad tongue, melted tongue, blurry, pixelated, watermark, signature, text, logo, artifact, jpeg artifacts"

limits:
  text_per_min: 20
  image_per_min: 5
  max_history_messages: 12
  batch_delay_seconds: 3 # Delay before processing to allow message batching

webhooks:
  image_callback_secret: "${IMAGE_CALLBACK_SECRET}"

logging:
  level: INFO

features:
  allow_groups: false

miniapp:
  menu_button_name: "App"
